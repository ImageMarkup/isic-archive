<!DOCTYPE html>

<html lang="en" ng-app="DermApp">

<head>
    <meta charset="utf-8">
    <title>ISIC Dermoscopic Annotation Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="description" content="ISIC Image annotator">
    <meta name="author" content="Rich Stoner, David Gutman">

    <link rel=stylesheet type=text/css href="/uda/static/bower_components/flatstrap/dist/css/bootstrap.min.css">
    <link rel=stylesheet type=text/css href="/uda/static/bower_components/font-awesome/css/font-awesome.min.css">


    <!--[if lt IE 9]>
<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script src="/uda/static/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/uda/static/bower_components/flatstrap/dist/js/bootstrap.min.js"></script>

    <script src="/uda/static/bower_components/angular/angular.min.js"></script>
    <script src="/uda/static/bower_components/angular-ui-bootstrap-bower/ui-bootstrap-tpls.min.js"></script>
    <script src="/uda/static/bower_components/angular-sanitize/angular-sanitize.min.js"></script>
    <script src="/uda/static/bower_components/angular-xml/angular-xml.min.js"></script>
    <script src="/uda/static/bower_components/mousetrap/mousetrap.min.js"></script>


    <script type="text/javascript" src="/uda/static/js/ol.js"></script>
    <script type="text/javascript" src="/uda/static/js/pf-segmentation.js"></script>
    <script type="text/javascript" src="/uda/static/js/slic-segmentation.js"></script>

    <script type="text/javascript" src="/uda/static/js/segment-annotator.js"></script>

    <script type="text/javascript" src="/uda/static/js/dermapp-phase2.js"></script>

    <script type="text/javascript" src="/uda/static/js/dermapp-utils.js"></script>
    <script type="text/javascript" src="/uda/static/js/dermapp-labels.js"></script>
    <script type="text/javascript" src="/uda/static/js/dermapp-viewer.js"></script>

    <script type="text/javascript" src="/uda/static/js/dermapp-variable-map.js"></script>

    <script type="text/javascript" src="/uda/static/js/dermapp-annotationview.js"></script>



    <link rel=stylesheet type=text/css href="/uda/static/css/ol.css" />
    <link rel=stylesheet type=text/css href="/uda/static/css/derm.css" />

    <style>

        #toolContainer {
            /*height: 100%;*/

            height: 600px;
            overflow: scroll;;
        }

    </style>
</head>

<body>

    <div id="angular_id" ng-controller="ApplicationController">

        <div ng-controller="AnnotationView" id="viewContainer">

            <div id="hoverBar">
                <img id="objectinfo" style="display:none;" class="optionimage" src="static/na.jpg"></img>
            </div>


            <div class="col-sm-3" id="toolContainer" ng-controller="AnnotationTool">


                <script type="text/ng-template" id="myModalContent.html" class="modalbase">
                    <div class="modal-body">

                        <div>{{base.title}}</div>
                        <div class="btn-group choiceoption" ng-repeat="opt in base.options">
                            <div class="btn btn-primary" ng-click="selectOption(opt)">
                                {{opt.title}}
                            </div>

                        </div>
                    </div>
                </script>


                 <script type="text/ng-template" id="field_renderer.html">

                     <h3>{{group.header}}</h3>

                     <div ng-repeat="question in group.questions">

                         <div ng-switch="question.type">
                             <div ng-switch-when="select">

                                 <div>Select {{question.name}}</div>


                             </div>

                             <div ng-switch-when="textarea">

                                <div>Textarea {{question.name}}</div>
                                 <textarea class="form-control" rows="3"></textarea>

                             </div>

                             <div ng-switch-when="check">

                                 <!--<div class="form-group">-->
                                    <!--<div class="col-sm-offset-1 col-sm-10">-->
                                      <!--<div class="checkbox">-->
                                        <!--<label>-->
                                          <input type="checkbox">{{question.label}}
                                        <!--</label>-->
                                      <!--</div>-->
                                    <!--</div>-->
                                  <!--</div>-->

                             </div>

                             <div ng-switch-default>
                                <div>{{question.type}}</div>

                             </div>

                         </div>
                     </div>


                </script>




                <div class="isichead">
                    <div class="isictitle">ISIC Annotation Tool : Phase 2</div>

                    <div class="btn-group btn-group-block">
                        <div class="btn">User: {{ user.login }}</div>
                        <div class="btn">{{ phase }}</div>
                    </div>

                    <div class="clearfix"></div>
                </div>


                <div class="clearfix"></div>

                <!-- Step content -->

                <div class="" ng-repeat="(key, value) in decision_tree">

                    <div ng-show="smartShowHeader(key)" class="">

                        <div class="step-header">

                            <div class="btn-group">

                                <div ng-click="gotoStep(key)" ng-class="stepHasAnnotations(key) ? 'btn labelgreen' : 'btn'">
                                    {{value.title}}
                                </div>

                            </div>

                        <!--<div class="btn-group pull-right">-->
                            <!--<div ng-click="deleteSaved(key)" class="btn" ng-show="stepHasAnnotations(key)">-->
                                <!--<i class="fa fa-trash-o fawhite" tooltip-placement="left" tooltip="Delete step-->
                            <!--annotations"></i>-->
                            <!--</div>&nbsp;-->
                        <!--</div>-->

                            <!--<div ng-show="current_annotation.steps[key]" class="markupwell">-->
                                <!--<div class="btn-group">-->
                                    <!--<div class="hideli markupsmalllabel btn btn-sm" ng-repeat="feature in current_annotation.steps[key].markup.features">-->
                                    <!--<span class="label label-default">{{feature.geometry.type}}&nbsp;</span><span class="label label-info">&nbsp;{{feature.properties.title}}</span>-->
                                    <!--</div>-->
                                <!--</div>-->
                            <!--</div>-->
                        </div>





                    </div>



                    <div ng-show="smartShowContent(key)" class="step-content">

                        <div class="btn-group content-group">

                            <div ng-repeat="group in variables.groups" ng-include="'field_renderer.html'"></div>

                        </div>


                        <!--<div class="btn-group content-group" ng-show="compareState('spconfirm', tool_bar_state)">-->

                            <!--<div class="btn btn-primary" ng-click="increaseParameter()">-->
                                <!--<i class="fa fa-chevron-up"></i>-->
                            <!--</div>-->
                            <!--<div class="btn btn-primary" ng-click="decreaseParameter()">-->
                                <!--<i class="fa fa-chevron-down"></i>-->
                            <!--</div>-->

                            <!--<div class="btn" disabled>Tolerance:-->
                                <!--<b>{{regionpaint_size}}</b>-->
                            <!--</div>-->
                        <!--</div>-->


                        <!--<div class="btn-group content-group" ng-show="compareState('rppaint', tool_bar_state)">-->

                            <!--<div class="btn" ng-show="drawModeIs('paintbrush')" ng-click="navMode()">-->
                                <!--Hide contours-->
                            <!--</div>-->
                            <!--<div class="btn" ng-show="drawModeIs('navigate')" ng-click="drawMode()">-->
                                <!--Show contours-->
                            <!--</div>-->

                            <!--<div class="btn btn-inverse" disabled style="max-width: 200px;">-->
                                <!--{{select_detail.title}}-->
                            <!--</div>-->

                            <!--<div class="btncontainer">-->
                                <!--<img class="btnimage" ng-src="{{select_detail.url}}" />-->
                            <!--</div>-->
                        <!--</div>-->

                        <!--<div class="btn-group content-group" ng-show="compareState('rpreview', tool_bar_state)">-->

                            <!--<div class="btn" ng-click="runRegionPaint()" ng-show="select_detail">-->
                                <!--Edit labels-->
                            <!--</div>-->
                        <!--</div>-->


                        <!--<div class="btn-group content-group" ng-show="compareState('selectpbn', tool_bar_state)">-->
                            <!--<div class="btn btn-inverse" ng-click="nextStep()">-->
                                <!--<i class="fa fa-check-square" tooltip-placement="right" tooltip="No details to-->
                               <!--annotate"></i>-->
                            <!--</div>-->
                        <!--</div>-->





                        <!--<div class="btn-group pull-right content-group" ng-show="compareState('rppaint', tool_bar_state)">-->

                            <!--<div class="btn btn-inverse" ng-click="finishRegionPaint()">-->
                                <!--Fill contours-->
                            <!--</div>-->
                        <!--</div>-->

                        <!--<div class="btn-group pull-right content-group" ng-show="compareState('mwdefine', tool_bar_state)">-->
                            <!--<div class="btn btn-inverse" ng-click="manualEdit()">-->
                                <!--<i class="fa fa-edit" tooltip-placement="left" tooltip="Manual edit"></i>-->
                            <!--</div>-->
                        <!--</div>-->


                        <!--<div class="btn-group pull-right content-group" ng-show="compareState('selectpbn', tool_bar_state)">-->
                            <!--<div class="btn btn-inverse" ng-show="runningSegmentation">-->
                                <!--<i class="fa fa-spinner fa-spin"></i>-->
                            <!--</div>-->

                            <!--<div class="btn btn-inverse" ng-click="runRegionPaint()">-->
                                <!--Click to begin-->
                            <!--</div>-->
                        <!--</div>-->


                        <!--<div class="btn-group content-group" ng-show="compareState('superpixel', tool_bar_state)">-->


                            <!--<div class="btn btn-inverse" ng-click="runRegionPaintConfigure()">-->
                                <!--Click to begin-->
                            <!--</div>-->

                            <!--<div class="btn btn-inverse" ng-show="runningSegmentation">-->
                                <!--<i class="fa fa-spinner fa-spin"></i>-->
                            <!--</div>-->
                        <!--</div>-->


                        <!--<div class="btn-group pull-right content-group" ng-show="compareState('spconfirm', tool_bar_state)">-->

                            <!--<div class="btn btn-inverse" ng-show="runningSegmentation">-->
                                <!--<i class="fa fa-spinner fa-spin"></i>-->
                            <!--</div>-->

                            <!--<!--<div class="btn btn-success" ng-click="nextStep()">-->
                                <!--<!--Next-->
                            <!--<!--</div>-->
                        <!--</div>-->







                    </div>
                </div>



                <!-- Step footer -->

                <div class="lowertoolbar" ng-show="canGoToNextStep()" ng-cloak>


                    <div class="btn-group pull-right">
                        <div class="btn btn-success" ng-click="nextStep()" ng-show="compareState('end', tool_bar_state)">
                            Submit
                        </div>


                        <div class="btn btn-success" ng-click="nextStep()" ng-show="stepHasAnnotations(step)">
                            Next
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-9 nopad">


                <div id="map" class="map" ng-hide="showingSegmentation"></div>

                <div id="annotatorcontainer" ng-show="showingSegmentation"></div>

            </div>


        </div>
    </div>
</body>
</html>